

#
## Перетворення даних

Нерідко виникає потреба перетворити одні дані на інші. Деякі перетворення JavaScript виконує автоматично. Наприклад:
```javascript
let number1 = "56";
let number2 = 4;
let result = number1 + number2;
console.log(result); // 564
```
Тут змінна number1 представляє рядок, а точніше рядкове уявлення числа. А змінна number2 є числом. І в результаті ми отримаємо не число 60, а рядок 564.

При додаванні перетворення на JavaScript виробляються за принципом:

Якщо обидва операнда представляють числа, відбувається звичайне арифметичне додавання

Якщо попередня умова не виконується, то обидва операнди перетворюються на рядки і проводиться об'єднання рядків.

Відповідно, у прикладі вище, оскільки перший операнд - рядок, то другий операнд - число також перетворюється на рядок, і в результаті отримуємо рядок "564", а не число 60. Фактично ми отримуємо:
```javascript
let number1 = "56";
let number2 = 4;
let result = number1 + String(number2);
console.log(result); // 564
```
Функція String() дозволяє отримати рядкове подання значення. Так, вираз String(number2) отримує рядкову виставу number2, тобто з числа 4 отримує рядок "4".

Але стандартна поведінка не завжди може бути бажаною. Наприклад, у прикладі вище хочемо, щоб значення складалися не як рядки, бо як числа. У цьому випадку ми можемо використовувати функції перетворення.

parseInt()
Для перетворення рядка на ціле число застосовується функція parseInt():

```javascript
let number1 = "56";
let number2 = 4;
let result = parseInt(number1) + number2;
console.log(result); // 60
```
При цьому рядок може мати змішаний вміст, наприклад "123hello", тобто в даному випадку є цифри, але є і звичайні символи. Функція parseInt() все одно спробує виконати перетворення - вона послідовно, починаючи з першого символу, зчитує цифри, доки не зустріне перший нецифровий символ:

```javascript
let num1 = "123hello";
let num2 = parseInt(num1);
console.log(num2); // 123
```
Варто враховувати, що значення, яке перетворюється на число, завжди спочатку перетворюється на рядок. Це може призводити до несподіваних, на перший погляд, результатів:

```javascript
let number1 = parseInt(0.000005);   // 0;
console.log(number1);
 
let number2 = parseInt(0.0000005);  // 5
console.log(number2);
```
Вище в функцію parseInt передаються дробові числа, і ми очікуємо в обох випадках отримати число 0. Однак при перетворенні number2 ми отримуємо число 5. Чому?

Приклад вище буде еквівалентний наступному:
```javascript
let number1 = parseInt(String(0.000005));   // 0;
console.log(number1);
 
let number2 = parseInt(String(0.0000005));  // 5
console.log(number2);
```

Для дробових чисел менше 10-6 (0.000001) застосовується експоненційний запис, тобто число 0.0000005 представляється як 5e-7:

```javascript
console.log(0.0000005);     // 5e-7
```
Далі число 5e-7 перетворюється на рядок "5e-7", і цей рядок parseInt намагається перетворити на число. Відповідно, на виході виходить число 5.

Те саме стосується дуже великих чисел типу 999999999999999999999, які також видаються до експоненційної форми.

NaN та isNaN
Якщо функції parseInt() не вдасться виконати перетворення, то він повертає значення NaN (Not a Number), яке говорить про те, що рядок не є числом і не може бути перетворений.

```javascript
console.log(parseInt("abc"));   // NaN
let type = typeof NaN;
console.log(type);              // number
```
Що цікаво, саме значення NaN (не число) є типом числа.

За допомогою спеціальної функції isNaN() можна перевірити, чи рядок представляє число. Якщо рядок не є числом, то функція повертає true, якщо це число - false:

```javascript
let num1 = "javascript";
let num2 = "22";
let result = isNaN(num1);
console.log(result); // true
     
result = isNaN(num2);
console.log(result); //  false
```
Перетворення на іншу систему обчислення
Вище ми розглядали переведення рядків у числа в десятковій системі. Але ми можемо за допомогою другого параметра явно вказати, що хочемо перетворити рядок на число у певній системі. Наприклад, перетворення на число в двійковій системі:

```javascript
let num1 = "110";
let num2 = parseInt(num1, 2);
console.log(num2); // 6
```
Результатом буде 6, тому що 110 у двійковій системі - це число 6 у десятковій.

parseFloat
Для перетворення рядків на дробові числа застосовується функція parseFloat(), яка працює аналогічним чином:
```javascript
let number1 = "46.07";
let number2 = "4.98";
let result = parseFloat(number1) + parseFloat(number2);
console.log(result); //51.05
```
